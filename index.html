<!DOCTYPE html>
<html>
<head>
  <title>Property Search</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
  <h1>Property Search</h1>
  <div class="search-container">
    <input type="text" id="addressInput" placeholder="Enter address">
    <button id="searchButton">Search</button>
  </div>
  <div id="resultContainer"></div>
  <script>
    // Format user input to match the expected address structure
    function formatAddressInput(input) {
      const cleanedInput = input.replace(/,\s*Canada$/, '');
      const formattedInput = cleanedInput.replace(/\b\w+/g, match => match.charAt(0).toUpperCase() + match.slice(1).toLowerCase());
      return formattedInput.trim();
    }

    // ... rest of your code ...

    const searchButton = document.getElementById('searchButton');
    const addressInput = document.getElementById('addressInput');
    const resultContainer = document.getElementById('resultContainer');

    searchButton.addEventListener('click', async () => {
      const userInput = addressInput.value;
      const formattedAddress = formatAddressInput(userInput);

      if (formattedAddress.trim() !== '') {
        try {
          const response = await fetch(`https://zillow-working-api.p.rapidapi.com/search/byaddress?query=${encodeURIComponent(formattedAddress)}`, {
            method: 'GET',
            headers: {
              'X-RapidAPI-Key': 'b992a0a4c9mshe98194ed211e071p1a8a00jsn9be933e403ac',
              'X-RapidAPI-Host': 'zillow-working-api.p.rapidapi.com'
            }
          });

          const data = await response.json();
          displayResult(data);
        } catch (error) {
          console.error(error);
          resultContainer.innerHTML = 'Error fetching data: ' + error.message;
        }
      }
    });

    function displayResult(data) {
      const result = data.results[0]; // Assuming the data structure matches the example

      resultContainer.innerHTML = `
        <h2>Property Information</h2>
        <p>Address: ${result.address}</p>
        <p>Area: ${result.area} sq ft</p>
      `;
    }
  </script>
</body>
</html>
